variables:
  CI_LIBRARY_REF_NAME: $CI_COMMIT_REF_NAME

test container image jobs:
  rules:
  - changes:
    - .gitlab-ci.yml
    - container-image/**/*
  trigger:
    project: devops/samples/utilaj
    strategy: depend

test helm jobs:
  rules:
  - changes:
    - .gitlab-ci.yml
    - helm/**/*
  trigger:
    project: devops/samples/tysa
    strategy: depend

test helmfile jobs:
  rules:
  - changes:
    - .gitlab-ci.yml
    - helmfile/**/*
  trigger:
    project: devops/samples/moon
    strategy: depend

test terragrunt jobs:
  rules:
  - changes:
    - .gitlab-ci.yml
    - terragrunt-jobs.yaml
  trigger:
    project: devops/samples/ovaz
    strategy: depend

test helmfile infra pipeline:
  rules:
  - changes:
    - .gitlab-ci.yml
    - helmfile-infra/**/*
  trigger:
    branch: release/0.0.0
    project: devops/samples/ikva/ikva-service
    streategy: depend
